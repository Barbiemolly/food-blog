<%- include('head') %>
    <title><%= title %></title>
    <link rel="stylesheet" href="/Styles/edit.css">
</head>
<body>
    <%- include('navbar') %>
    <main>
        <div id="newPostSection" class="section">
            <h2>Edit Post</h2>
            <form method="POST" action="/admin/save-post">
              <% if (type === 'recipe' && post) { %>
                <h3>Recipe Form</h3>
                <input type="hidden" name="id" value="<%= post.id %>">
                <label for="recipeTitle">Title:</label>
                <input type="text" id="recipeTitle" name="recipeTitle" value="<%= post.title %>">
          
                <label for="recipeDescription">Description:</label>
                <textarea id="recipeDescription" name="recipeDescription"><%= post.description %></textarea>
          
                <label for="cookTime">Cook Time:</label>
                <input type="text" id="cookTime" name="cookTime" value="<%= post.cooktime %>">

                <label for="region">Region:</label>
                <select id="region" name="region">
                  <option value="african" <%= post.region === 'african' ? 'selected' : '' %>>African</option>
                  <option value="american" <%= post.region === 'american' ? 'selected' : '' %>>American</option>
                  <option value="asian" <%= post.region === 'asian' ? 'selected' : '' %>>Asian</option>
                  <option value="europe" <%= post.region === 'europe' ? 'selected' : '' %>>Europe</option>
                </select>
                

                <label for="ingredients">Ingredients:</label>
                <textarea id="ingredients" name="ingredients"><%= post.ingredients %></textarea>

                <label for="instructions">Instructions:</label>
                <textarea id="instructions" name="instructions"><%= post.instructions %></textarea>

                <label for="recipeImage">Image:</label>
                <input type="file" id="recipeImage" name="recipeImage">
                <% if (post.image_path) { %>
                  <img src="/uploads/<%= post.image_path %>" alt="Current Image" width="100">
                <% } %>                

                <label for="exclusive">Exclusive:</label>
                <input type="checkbox" id="exclusive" name="exclusive" <%= post.exclusive ? 'checked' : '' %> >
                
                <button type="submit">Save Recipe</button>
              <% } else if (type === 'blog' && post) { %>
                <h3>Article Form</h3>
                <input type="hidden" name="id" value="<%= post.id %>">
                <label for="articleTitle">Title:</label>
                <input type="text" id="articleTitle" name="articleTitle" value="<%= post.title %>">
          
                <label for="articleDescription">Description:</label>
                <textarea id="articleDescription" name="articleDescription"><%= post.description %></textarea>
          
                <label for="articleIntro">Intro:</label>
                <textarea id="articleIntro" name="articleIntro"><%= post.introduction %></textarea>

                <label for="mainArticle">Main Article:</label>
                <textarea id="mainArticle" name="mainArticle"><%= post.main_article %></textarea>

                <label for="articleConclusion">Conclusion:</label>
                <textarea id="articleConclusion" name="articleConclusion"><%= post.conclusion %></textarea>

                <label for="recipeImage">Image:</label>
                <input type="file" id="articleImage" name="articleImage">
                <% if (post.image_path) { %>
                  <img src="/uploads/<%= post.image_path %>" alt="Current Image" width="100">
                <% } %>
                
                <label for="exclusive">Exclusive:</label>
                <input type="checkbox" id="exclusive" name="exclusive" <%= post.exclusive ? 'checked' : '' %> >

          
                <button type="submit">Save Article</button>
              <% } %>
            </form>
          </div>
          
    </main>
    <%- include('footer') %>